<hr />

<h1>@ViewBag.Pin.Title</h1>
@if (ViewBag.Pin.EmbeddedContentPath.EndsWith(".jpg") || ViewBag.Pin.EmbeddedContentPath.EndsWith(".jpeg") || ViewBag.Pin.EmbeddedContentPath.EndsWith(".png") || ViewBag.Pin.EmbeddedContentPath.EndsWith(".gif"))
{
    <!-- Show image if the content path is a photo -->
    <img src="@ViewBag.Pin.EmbeddedContentPath" alt="Imagine încorporată" style="max-height: 450px; max-width: 360px; width: auto; height: auto;" />
}
else if (ViewBag.Pin.EmbeddedContentPath.EndsWith(".mp4") || ViewBag.Pin.EmbeddedContentPath.EndsWith(".avi") || ViewBag.Pin.EmbeddedContentPath.EndsWith(".mov"))
{
    <!-- Show video if the content path is a video -->
    <video width="400" controls>
        <source src="@ViewBag.Pin.EmbeddedContentPath" type="video/mp4">
        Your browser does not support the video tag.
    </video>
}
<p>@ViewBag.Pin.Description</p>

<p style=" font-weight: bold">Likes: @ViewBag.Pin.LikesCount</p>

<br />

<small>@ViewBag.Pin.Date</small>

<hr />

<h3>Comments:</h3>

@foreach (var comment in ViewBag.Comments)
{
    //pentru a lua prima parte a mail-ului
    string email = @comment.AppUser.Email;
    string firstPart = email.Substring(0, email.IndexOf('@'));

    <p style=" font-weight: bold"> User: @firstPart </p>
    <p> @comment.Text </p>
    <p>Date: @comment.Date </p>
    <hr />
}
<br />

<p>Login to add a comment.</p>

<br />

<br />



<a href="/Pins/Index"> Back to for you! </a>
